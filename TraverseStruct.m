% TraverseStruct.m% function list = TraverseStruct(structure, prefix, list)% traverses structure recursively to build flattened list of fields% prefix and list should both be [] on initial call.% JBB 2/20/04function list = TraverseStruct(structure, prefix, list)field_list = fieldnames(structure);for i = 1:length(field_list),	curfield = field_list{i};	contents = getfield(structure, curfield);	if isstruct(contents),		list = TraverseStruct(contents, curfield, list);	% recursive call	else		if isempty(prefix),	% make sure root fields (no prefix) don't have leading "."			list = strvcat(list, curfield);		else			list = strvcat(list, strcat(prefix, '.', curfield));		end	endend